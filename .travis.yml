# Travis CI Java documentation can be found in:
# https://docs.travis-ci.com/user/languages/java/

# We will use Ubuntu 18.04 (bionic beaver). List of options:
# https://docs.travis-ci.com/user/reference/overview/#linux
dist: xenial

# This enables the 'defaults' to test java applications:
language: java

# We can specify a list of JDKs to be used for testing
# A list of available JDKs in Trusty can be seed in:
# https://docs.travis-ci.com/user/reference/xenial/#jvm-clojure-groovy-java-scala-support
jdk:
- openjdk8

env:
  global:
  - secure: bbim2NaYkrzAcBX5f+d1dDlSB/Lfs4bzvCxNbq6V+DHp5yaAo0qkgzQsekJ7Az1M+cMMJ+Tqdwejr8F+9XZ7peLk/consyTiZSM4TLmihg9rk+sErPQES8MWiPGvUhKm0oZK3WQa3Evp8sJPOTfrXItShU7vexIZXTe1C1oSgShL2b+AkkPeDpuIaFQb8yK8hvGBnDwEqAWHHLSTCLFaaohdJhBGTz5NDGzoXdnTaCMX43CkImafsG+AZbEA6R3+6Ea5qFBfzDWMQb3UNc+5a3wCRfcM++34n0T3RlWgIoDffUMmbSOQ/jnyOQ+48EuhdJjEBgHwXHMtmq+ycU5yg5wxqYNSKTnQ386pDYzhyWyu1+2auNoVg5OBCBYGQaG+OOvMHqDx4yzNMfTQkZ72lOdjISMzkd7QlXja5IomdrUG68tyHiOQfS5SjgRU6BIj97q65aBe70sqI+pjqaXdTbi+Mim2VdlM+sMikDJ+MoB1uY58OsQmmB1UPOHxwgv2TUJLxRJoM1lKxindCBZ7CVaxIYqQ9Qys7DiJv1cjpeH1XQtDZMqJxPkzadi3d+HuHP7q0Glslx3fKnFhStQVe4YK/L63rhoJVFGKCkRJUllE8iYVMoxYzfaLXJNr01PNWWa64yp5y8meTnC93c29Q3jiHSUQNeDSfdv5DrxK0nY=
  - secure: lX8xD4TaFqEkxCDjM47nXE9Tw/U7+gY9qBvrttGHXPWSu5UObQfUt5lNcZlgu+PJFTWqLY9tkI3FRuZjBXZjQGF9q9hAM+izQprUbLf5wuz3qxxY+1BC1aUxFLOK4mdYPBjsxytrZ85RzOkmkfz+KiUHvD9mdW+g/br6+WDAFOtZVP/uFgpBiUqBEeVHBilgsePVfhP3/QLJJqBFXy3vSN4//wl/XlBbHWLYComq6hjvl3yRhSr/nosHsp+QYM4ez4FA1UVDeIrvRCaon3je5QPGkILriCNMNgpg8s3bzbx2YUdw90X4TVlSgcG+zzltn7pnq3JtyLzB+P3fNmtscw7HxuqRVQwhCN+tONATPUkYhYMlv14SNHM8TLlylIr37izkxNrMUWcar3ausfdJFFqbf7ODb4V8+8SsGlpBxPS4GBBQiZOFqUT7vBp9Be0VDu1U+KvBZhxm6HNx7qqgjhSLz4uMxtK8iMbD0g9cKvLGJn81M/IiAbtyjI3yF/1iOagfYE5jR11N5+ei9qS+DFFmVCDwmLsdtixHuXoEDSaqZv5g8Uo3BpjCaNCgigt2xVgjEMwUY+IoUSvISYAXZ+cxurx2AvaUWkbNWZe8Ul7MTBDBNUpM7L0RqGJsOT0b8M8LNTYNCNrcnIXGb96ZkLP1YbouNByRfVrPqy5uBZ4=

# git strips the wrapper jar file so we have to force its download during the build
install:
- mvn -N io.takari:maven:wrapper
- ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V

# Each job in Travis CI has several steps:
# https://docs.travis-ci.com/user/job-lifecycle/
# The 'language: java' directive sets up sane defaults to test common java applications
# We use the defaults for installing dependencies, compiling and testing maven applications
# In our case it will be 'mvn install' followed by 'mvn test'

# https://github.com/codecov/example-java-maven
script: "mvn cobertura:cobertura"

# This is to enable CodeCov's coverage
# If a build is successful, the code is submitted for coverage analysis
after_success:
  - bash <(curl -s https://codecov.io/bash)


